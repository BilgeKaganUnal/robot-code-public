syntax = "proto2";

option cc_enable_arenas = true;

package c2018.score_subsystem;

enum ScoreGoal {
  HEIGHT_0 = 0;
  HEIGHT_1 = 1;
  HEIGHT_2 = 2;
  PREP_SCORE_LOW = 3;
  PREP_SCORE_HIGH = 4;
  PREP_SCORE_HIGH_BACK = 5;
  SCORE_LOW = 6;
  SCORE_HIGH = 7;
  SCORE_HIGH_BACK = 8;
  IDLE_BOTTOM = 9;
  IDLE_STOW = 10;
}

enum IntakeMode {
  IDLE = 0;
  INTAKE = 1;
  OUTTAKE = 2;
}

message ScoreSubsystemInput {
  required uint64 timestamp = 1;
  required double elevator_encoder = 2;
  required bool elevator_hall = 3;
  required double wrist_encoder = 4;
  required bool wrist_hall = 5;
  required double intake_current = 6;
  required bool has_cube = 7;
}

message ScoreSubsystemOutput {
  required double elevator_voltage = 1;
  required double intake_voltage = 2;
  required double wrist_voltage = 3;
  required bool wrist_solenoid_open = 4;
  required bool wrist_solenoid_close = 5;
}

message ScoreSubsystemGoal {
  required uint64 timestamp = 1;
  optional double wrist_angle = 2;
  required double elevator_voltage = 3;
  required double roller_voltage = 4;
  required double wrist_voltage = 5;
  required bool claw_pinch = 6;
  required ScoreGoal score_goal = 7;
  required bool score_forward = 8;

}

message ScoreSubsystemStatus {
  required uint64 timestamp = 1;
  required double elevator_actual_height = 2;
  required double estimated_velocity = 3;
  required bool elevator_at_top = 4;
  required double elevator_voltage_error = 5;
  required double elevator_uncapped_voltage = 6;
  required double elevator_profiled_goal = 7;
  required double elevator_unprofiled_goal = 8;
  required bool elevator_encoder_fault_detected = 9;
  required bool elevator_calibrated = 10;
  required double wrist_angle = 11;
  required double wrist_velocity = 12;
  required bool wrist_calibrated = 13;
  required bool claw_pinch = 14;
  required bool has_cube = 15;
}
